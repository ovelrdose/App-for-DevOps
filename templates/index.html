<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ì–∞–ª–µ—Ä–µ—è –∫–æ—Ç–∏–∫–æ–≤</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        .header {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px 0;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .header h1 {
            font-size: 3em;
            margin-bottom: 10px;
            color: #333;
        }
        
        .nav {
            margin-top: 20px;
        }
        
        .nav a {
            margin: 0 20px;
            text-decoration: none;
            color: #667eea;
            font-weight: bold;
            font-size: 1.1em;
            padding: 10px 20px;
            border-radius: 25px;
            transition: all 0.3s ease;
        }
        
        .nav a:hover {
            background: #667eea;
            color: white;
        }
        
        .container {
            flex: 1;
            max-width: 1400px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        
        .flash {
            padding: 15px;
            background: #d4edda;
            color: #155724;
            border-radius: 5px;
            margin: 20px 0;
            text-align: center;
        }
        
.gallery {
    display: grid;
    grid-template-columns: repeat(3, 1fr); /* –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ 3 –∫–æ–ª–æ–Ω–∫–∏ */
    gap: 30px;
    margin-top: 40px;
}

.cat-card {
    background: white;
    border-radius: 15px;
    overflow: hidden;
    box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.cat-card img {
    width: 100%;
    height: 250px; /* –ù–µ–º–Ω–æ–≥–æ —É–º–µ–Ω—å—à–∏–º –≤—ã—Å–æ—Ç—É –¥–ª—è –ª—É—á—à–µ–≥–æ –≤–∏–¥–∞ */
    object-fit: cover;
    border-bottom: 3px solid #667eea;
}

/* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —ç–∫—Ä–∞–Ω–æ–≤ */
@media (max-width: 1200px) {
    .gallery {
        grid-template-columns: repeat(2, 1fr); /* 2 –∫–æ–ª–æ–Ω–∫–∏ –Ω–∞ –ø–ª–∞–Ω—à–µ—Ç–∞—Ö */
    }
}

@media (max-width: 768px) {
    .gallery {
        grid-template-columns: 1fr; /* 1 –∫–æ–ª–æ–Ω–∫–∞ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
    }
    
    .cat-card img {
        height: 200px;
    }
}

@media (min-width: 1600px) {
    .gallery {
        grid-template-columns: repeat(4, 1fr); /* 4 –∫–æ–ª–æ–Ω–∫–∏ –Ω–∞ –±–æ–ª—å—à–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö */
    }
}
        
        .cat-info {
            padding: 25px;
            text-align: center;
        }
        
        .cat-title {
            font-size: 1.4em;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
        }
        
        .cat-date {
            color: #666;
            font-size: 0.9em;
        }
        
        .empty-state {
            text-align: center;
            color: white;
            font-size: 1.2em;
            margin-top: 60px;
        }
        
        .empty-state a {
            color: #ffd700;
            text-decoration: none;
            font-weight: bold;
        }
        
        .footer {
            background: rgba(0, 0, 0, 0.8);
            color: white;
            text-align: center;
            padding: 20px 0;
            margin-top: auto;
        }
        
        @media (max-width: 768px) {
            .gallery {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .nav a {
                display: block;
                margin: 10px 0;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üê± –ì–∞–ª–µ—Ä–µ—è –∫–æ—Ç–∏–∫–æ–≤</h1>
        <div class="nav">
    <a href="{{ url_for('index') }}">–ì–ª–∞–≤–Ω–∞—è</a>
    <a href="{{ url_for('upload') }}">–ó–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ—Ç–∏–∫–∞</a>
    <a href="{{ url_for('manage') }}">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ—Ç–∞–º–∏</a>
    {% if session.user_id %}
        <span style="color: white; margin-left: 20px;">–ü—Ä–∏–≤–µ—Ç, {{ session.username }}!</span>
        <a href="{{ url_for('logout') }}" style="color: #ff6b6b;">–í—ã–π—Ç–∏</a>
    {% else %}
        <a href="{{ url_for('login') }}">–í–æ–π—Ç–∏</a>
    {% endif %}
</div>
    </div>

    <div class="container">
        {% with messages = get_flashed_messages() %}
            {% if messages %}
                {% for message in messages %}
                    <div class="flash">{{ message }}</div>
                {% endfor %}
            {% endif %}
        {% endwith %}

        <h2 style="text-align: center; color: white; font-size: 2.5em; margin-bottom: 20px;">–í—Å–µ –∫–æ—Ç–∏–∫–∏</h2>
        
        {% if cats %}
            <div class="gallery">
                {% for cat in cats %}
                    <div class="cat-card">
                        <img src="{{ url_for('static', filename='uploads/' + cat[1]) }}" 
                             alt="{{ cat[3] }}">
                        <div class="cat-info">
                            <div class="cat-title">{{ cat[3] }}</div>
                            <div class="cat-date">–ó–∞–≥—Ä—É–∂–µ–Ω–æ: {{ cat[4][:10] }}</div>
                        </div>
                    </div>
                {% endfor %}
            </div>
        {% else %}
            <div class="empty-state">
                <p>–ü–æ–∫–∞ –Ω–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –∫–æ—Ç–∏–∫–æ–≤. <a href="{{ url_for('upload') }}">–ó–∞–≥—Ä—É–∑–∏—Ç–µ –ø–µ—Ä–≤–æ–≥–æ!</a></p>
            </div>
        {% endif %}
    </div>

    <div class="footer">
        <p>Test-Project 2025</p>
    </div>
</body>
</html>